# Container-Monitoring
## Docker container monitoring system as a test case for VK

## Container Monitoring Backend

Этот репозиторий содержит бэкенд для системы мониторинга контейнеров. Бэкенд отвечает за управление базой данных, обработку HTTP-запросов и взаимодействие с брокером сообщений Kafka.

### Функциональность

- Получение статусов IP-адресов контейнеров через REST API.
- Добавление новых IP-адресов в систему мониторинга. 
- Обработка сообщений из Kafka и обновление информации в базе данных.
- Сбор и экспорт метрик Prometheus для мониторинга системы.

### Сервисы
- db - PostgreSQL база данных для хранения информации о контейнерах.
- kafka - Kafka-брокер сообщений для передачи данных между сервисами
- kafka-init - создание топиков
- backend - Основной API-сервер, обрабатывающий HTTP-запросы и взаимодействующий с базой данных.
- pinger - Сервис, который получает список IP-адресов контейнеров, пингует их и отправляет метрики в Kafka.
- kafka-exporter - Экспортирует метрики Kafka для Prometheus.
- postgres-exporter - Экспортирует метрики PostgreSQL для Prometheus.
- prometheus - Система мониторинга для сбора метрик из backend, kafka-exporter и postgres-exporter.

### Запуск проекта

#### Запуск через Docker Compose

```make up``` 

#### Остановка сервисов и очистка данных

```
make down
make clean
```

#### Линтинг кода

```make lint```

### Метрики

Бэкенд и связанные сервисы собирают метрики для мониторинга. Основные метрики доступны по следующим эндпоинтам:

#### *Kafka Exporter:* `http://localhost:9308/metrics`

#### *Prometheus UI:* `http://localhost:9090`



